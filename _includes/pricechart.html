<div class = "chart-container">
	<canvas id="myChart"></canvas>
	<script src="js/7day.js" type="text/JavaScript"></script>
	<script src="js/24h.js" type="text/JavaScript"></script>
	<script>
		$(document).ready(function() {
			//seven data is from the 7day.js script
			var date = new Date(Date.now());
			var currentYear = getCurrentYear(date);
			var currentMonth = getCurrentMonth(date);
			var currentDay = getCurrentDay(date)
			var currentUnixTime = Date.now();
			threeYearData = {
				labels: [currentYear-2,currentYear-1,currentYear],
				datasets: [{
		            borderColor: 'green',
		           	data: [10,32,44],
		           	yAxisID:"y-axis-usd"
				}],
					
			}

			oneYearData = {
				labels: get12MonthRange(currentMonth),
				datasets: [{
		            borderColor: 'green',
		           	data: [0, 10, 5, 2, 20, 30, 45, 25, 89 , 10, 32 , 44],
		           	yAxisID:"y-axis-usd"
				}],
					
			}
			sixMonthData = {
				labels: get6MonthRange(currentMonth),
				datasets: [{
		            borderColor: 'green',
		           	data: [0, 10, 5, 2, 20, 30],
		           	yAxisID:"y-axis-usd"
				}],
			}
			sevenDayData = {
				labels: get7DayRange(currentDay,sevenData.length),
				datasets: [{
		            borderColor: 'orange',
		           	data: sevenData[1],
		           	yAxisID:"y-axis-btc"
				},{
					borderColor: 'green',
		           	data: sevenData[0],
		           	yAxisID:"y-axis-usd"
				}],
			}
			
			twentyFourHourData = {
				labels: parseHour(twentyFourHourData[0]),
				datasets: [{
		            borderColor: 'orange',
		           	data: twentyFourHourData[2],
		           	yAxisID:"y-axis-btc"
				},{
					borderColor: 'green',
		           	data: twentyFourHourData[1],
		           	yAxisID:"y-axis-usd"
				}],

			}
			var defautChartName = "1-Year Prices"
			createChart(oneYearData,defautChartName);


		})
		function parseHour(date) {
			var dateStringArray = []
			date.forEach(function(value) {
				if(value > 12) {
					value = value - 12
					valueString = parseInt(value) + ' P.M'
					dateStringArray.push(valueString)
				}else if(value < 12) {
					valueString = parseInt(value) + ' A.M'
					dateStringArray.push(valueString)
				}else if(value == 24) {
					valueString = '12 A.M'
					dateStringArray.push(valueString)
				}else if(value == 12) {
					valueString = '12 P.M'
					dateStringArray.push(valueString)
				}
			})
			return dateStringArray;
		}

		function getCurrentYear(date) {
			return date.getFullYear();
		}

		function getCurrentMonth(date) {
			return date.getMonth();
		}
		function getCurrentDay(date) {
			return date.getDay();
		}
		function get12MonthRange(currentMonth) {
			
			//currentMonth args is in index 0-11 for jan to dec
			switch (currentMonth) {
				case 0:
					return ['Febuary','March','April','May','June','July','August','September','October','November','December','January'];
				case 1:
					return ['March','April','May','June','July','August','September','October','November','December','January','Febuary'];
				case 2:
					return ['April','May','June','July','August','September','October','November','December','January','Febuary','March'];
				case 3:
					return ['May','June','July','August','September','October','November','December','January','Febuary','March','April'];
				case 4:
					return ['June','July','August','September','October','November','December','January','Febuary','March','April','May'];
				case 5:
					return ['July','August','September','October','November','December','January','Febuary','March','April','May','June'];
				case 6:
					return ['August','September','October','November','December','January','Febuary','March','April','May','June','July'];
				case 7:
					return ['September','October','November','December','January','Febuary','March','April','May','June','July','August'];
				case 8:
					return ['October','November','December','January','Febuary','March','April','May','June','July','August','September'];
				case 9:
					return ['November','December','January','Febuary','March','April','May','June','July','August','September','October'];
				case 10:
					return ['December','January','Febuary','March','April','May','June','July','August','September','October','November'];
				case 11:
					return ['January','Febuary','March','April','May','June','July','August','September','October','November','December'];
				
			}
		}
		function get6MonthRange(currentMonth) {
			switch (currentMonth) {
				case 0:
					return ['August','September','October','November','December','January'];
				case 1:
					return ['September','October','November','December','January','Febuary'];
				case 2:
					return ['October','November','December','January','Febuary','March'];
				case 3:
					return ['November','December','January','Febuary','March','April'];
				case 4:
					return ['December','January','Febuary','March','April','May'];
				case 5:
					return ['January','Febuary','March','April','May','June'];
				case 6:
					return ['Febuary','March','April','May','June','July'];
				case 7:
					return ['March','April','May','June','July','August'];
				case 8:
					return ['April','May','June','July','August','September'];
				case 9:
					return ['May','June','July','August','September','October'];
				case 10:
					return ['June','July','August','September','October','November'];
				case 11:
					return ['July','August','September','October','November','December'];
				
			}

		}
		function get7DayRange(currentDay,length) {
			var emptyArrays = []
			if(length != 25) {
				for(var i = 0;i<length-25;i++) {
					emptyArrays.push("")
				}
			}
			
			switch(currentDay) {
				case 0:
					return ['Monday',"","","",'Tuesday',"","","",'Wednesday',"","","",'Thursday',"","","",'Friday',"","","",'Saturday',"","","",'Sunday'].concat(emptyArrays);
				case 1:
					return ['Tuesday',"","","",'Wednesday',"","","",'Thursday',"","","",'Friday',"","","",'Saturday',"","","",'Sunday',"","","",'Monday'].concat(emptyArrays);
				case 2:
					return ['Wednesday',"","","",'Thursday',"","","",'Friday',"","","",'Saturday',"","","",'Sunday',"","","",'Monday',"","","",'Tuesday'].concat(emptyArrays);
				case 3:
					return ['Thursday',"","","",'Friday',"","","",'Saturday',"","","",'Sunday',"","","",'Monday',"","","",'Tuesday',"","","",'Wednesday'].concat(emptyArrays);
				case 4:
					return ['Friday',"","","",'Saturday',"","","",'Sunday',"","","",'Monday',"","","",'Tuesday',"","","",'Wednesday',"","","",'Thursday'].concat(emptyArrays);
				case 5:
					return ['Saturday',"","","",'Sunday',"","","",'Monday',"","","",'Tuesday',"","","",'Wednesday',"","","",'Thursday',"","","",'Friday'].concat(emptyArrays);
				case 6:
					return ['Sunday',"","","",'Monday',"","","",'Tuesday',"","","",'Wednesday',"","","",'Thursday',"","","",'Friday',"","","",'Saturday'].concat(emptyArrays);
			}
		}
		
		function changeChart(type) {
			if(type == '3y') {
				var chartName = "3-Year Prices"
				createChart(threeYearData,chartName)
			}
			if(type == '1y') {
				var chartName = "1-Year Prices"
				createChart(oneYearData,chartName)

			}
			if(type == '6m') {
				var chartName = "6-Month Prices"
				createChart(sixMonthData,chartName)
			}
			if(type == '7d') {
				var chartName = "7-Day Prices"
				createChart(sevenDayData,chartName)
			}
			if(type == '24hr') {
				var chartName = "24-Hour Prices"
				createChart(twentyFourHourData,chartName)
			}
		}

		function createChart(newData,chartName) {
			config = createConfig(newData,chartName);
			var ctx = document.getElementById('myChart').getContext('2d')
			var chart = new Chart(ctx, config)
			chart.canvas.parentNode.style.width ="90%";
		}
		
		function createConfig(newData,chartName) {
			var configInner = {
				type: 'line',
				data: newData,
				options: {
					responsive: true,
	                title:{
	                    display: true,
	                    text: chartName,
	                    fontColor: 'black',
	                    fontSize: 20
	                },
	                scales: {
	                	xAxes: [{
	                		scaleLabel: {
	                			fontColor:'black',
	                		},
	                		gridLines: {
	                			display: false,
	                			drawBorder: false,
	                		},
	                		ticks: {
	                			fontColor: 'black',
	                			autoSkip: false
	                		}
	                		
	                	}],

	                    yAxes: [{
	                    	//y axis for USD
	                    	type:'linear',
	                    	display: true,
	                    	position:'left',
	                    	id:'y-axis-usd',
	                    	scaleLabel: {
	                    		display: true,
	                    		labelString: 'Price (USD)',
	                    		fontColor: 'green',
	                    	},
	                        gridLines: {
	                            drawBorder: true,
	                            display: false,
	                        },
	                        ticks : {
	                        	fontColor: 'green'
	                        }
	                        
	                    },{
	                    	//y axis for btc
	                    	type:'linear',
	                    	display: true,
	                    	position:'right',
	                    	id:'y-axis-btc',
	                    	scaleLabel: {
	                    		display: true,
	                    		labelString: 'Price (BTC)',
	                    		fontColor:'orange',
	                    	},
	                        gridLines: {
	                            drawBorder: false,
	                            display: false,
	                        },
	                        ticks : {
	                        	fontColor: 'orange'
	                        }
	                    }]

	                },
	                //setting the label of data to dissapear
	                legend : {
	                	display: false
	                }
	            }
			};
			return configInner;
		}
		

	</script>
</div>
